var __reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);i.prototype=t.prototype,e.prototype=new i},__awaiter=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))(function(n,h){function d(e){try{r(a.next(e))}catch(t){h(t)}}function o(e){try{r(a["throw"](e))}catch(t){h(t)}}function r(e){e.done?n(e.value):new i(function(t){t(e.value)}).then(d,o)}r((a=a.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function i(e){return function(t){return a([e,t])}}function a(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,h&&(d=h[2&i[0]?"return":i[0]?"throw":"next"])&&!(d=d.call(h,i[1])).done)return d;switch(h=0,d&&(i=[0,d.value]),i[0]){case 0:case 1:d=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,h=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!d||i[1]>d[0]&&i[1]<d[3])){r.label=i[1];break}if(6===i[0]&&r.label<d[1]){r.label=d[1],d=i;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(i);break}d[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(a){i=[6,a],h=0}finally{n=d=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var n,h,d,o,r={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return o={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.textField=new egret.BitmapText;var e=RES.getRes("num_fnt");this.textField.text="0%",this.textField.font=e,this.textField.textAlign="center",this.textField.x=260,this.textField.y=550,this.textField.width=130,this.textField.height=100;var t=new egret.Bitmap(RES.getRes("loadingBG_jpg"));this.addChild(t),this.load=new egret.Bitmap(RES.getRes("loading_json.loading_icon_png")),this.load.anchorOffsetX=this.load.width/2,this.load.anchorOffsetY=this.load.height/2,this.load.x=320,this.load.y=568,this.addChild(this.load),this.loadBar2=new egret.Bitmap(RES.getRes("loading_json.loading_bar1_png")),this.loadBar2.x=(640-this.loadBar2.width)/2,this.loadBar2.y=(1136-this.loadBar2.height)/2,this.addChild(this.loadBar2),this.loadBar=new egret.Bitmap(RES.getRes("loading_json.loading_bar2_png")),this.loadBar.x=(640-this.loadBar.width)/2,this.loadBar.y=(1136-this.loadBar.height)/2,this.addChild(this.loadBar)},t.prototype.onProgress=function(e,t){this.textField.text=Math.ceil(e/t*100).toString()+"%";var i=this.getSectorProgress(Math.ceil(e/t*360));this.addChild(i),this.loadBar.mask=i,this.addChild(this.textField)},t.prototype.getSectorProgress=function(e){function t(e){a.graphics.clear(),a.graphics.beginFill(16711680),a.graphics.moveTo(i.loadBar.x,i.loadBar.y),a.graphics.lineTo(i.loadBar.x+i.loadBar.width/2,i.loadBar.y+i.loadBar.height/2),a.graphics.drawArc(i.loadBar.x+i.loadBar.width/2,i.loadBar.y+i.loadBar.height/2,i.loadBar.width/2,0,e*Math.PI/180),a.graphics.lineTo(i.loadBar.x+i.loadBar.width/2,i.loadBar.y+i.loadBar.height/2),a.graphics.endFill()}var i=this,a=new egret.Shape;return t(e),a},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var Main=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(e){egret.lifecycle.addLifecycleListener(function(e){e.onUpdate=function(){}}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()},this.runGame()["catch"](function(e){console.log(e)})},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,this.loadResource()];case 1:return t.sent(),e=new BeginPage(this.stage.stageWidth,this.stage.stageHeight),this.stage.addChild(e),e=null,[2]}})})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return i.sent(),[4,RES.loadGroup("loading")];case 2:return i.sent(),e=new LoadingUI,this.stage.addChild(e),[4,RES.loadGroup("preload",0,e)];case 3:return i.sent(),this.stage.removeChild(e),[3,5];case 4:return t=i.sent(),console.error(t),[3,5];case 5:return[2]}})})},t}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var createBitmapByName=function(){function e(){}return e.prototype.get=function(e){var t=new egret.Bitmap,i=RES.getRes(e);return t.texture=i,t},e}();__reflect(createBitmapByName.prototype,"createBitmapByName");var DebugPlatform=function(){function e(){this.baseURL="https://xwfintech.qingke.io/5f1e2e50b4ac2e002c1624cb/api"}return e.prototype._request=function(e,t,i){return void 0===i&&(i={}),__awaiter(this,void 0,void 0,function(){var a=this;return __generator(this,function(n){return[2,new Promise(function(n,h){var d=new egret.HttpRequest;d.responseType=egret.HttpResponseType.TEXT,d.open(e,t),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var o="";for(var r in i)o+=r+"="+i[r]+"&";d.send(o),d.addEventListener(egret.Event.COMPLETE,function(e){var t=e.currentTarget;n(t.response)},a),d.addEventListener(egret.IOErrorEvent.IO_ERROR,h,a),d.addEventListener(egret.ProgressEvent.PROGRESS,function(e){},a)})]})})},e.prototype.getRankResult=function(){return this._request(this.baseURL+"/get_ranking_list",egret.HttpMethod.GET)},e.prototype.postUserScore=function(e){return this._request(this.baseURL+"/add_score",egret.HttpMethod.POST,{openid:window.PlayerInfo.openid,score:e})},e.prototype.postUserInfo=function(){return this._request(this.baseURL+"/add_userinfo",egret.HttpMethod.POST,window.PlayerInfo)},e.prototype.beyondHowMany=function(e){return this._request(this.baseURL+"/beyond",egret.HttpMethod.POST,{score:e})},e}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var BeginPage=function(e){function t(t,i){var a=e.call(this)||this;return a.hideChildrens=[],a.width=t,a.height=i,a.createGameScene(),a}return __extends(t,e),t.prototype.createGameScene=function(){var e=this;platform.postUserInfo();var t=(new createBitmapByName).get("bg_png");this.addChild(t);var i=this.width,a=this.height;t.width=i,t.height=a,t=null;var n=(new createBitmapByName).get("star_fight_png");this.findCenter(n),n.y-=80,n.name="gametitle";var h=(new createBitmapByName).get("pig_png");this.addChild(h),this.findCenter(h),h.x-=142,h.y-=346;var d=h.x,o=h.y;h.name="pig";var r=(new createBitmapByName).get("batman2_png");this.addChild(r),this.findCenter(r),r.y+=65+r.height/2,r.x+=180+r.width/2,r.scaleX=.95,r.scaleY=.95,r.anchorOffsetX=r.width/2,r.anchorOffsetY=r.height/2,r.rotation=-5,r.alpha=.75;var l=(r.x,r.y);r.name="batman",this.addChild(n),n=null;var s=egret.Tween.get(h,{loop:!0});s.to({x:d+4,y:o+12,alpha:.6},1e3).to({x:d,y:o,alpha:1},1e3),h=null,s=null;var g=egret.Tween.get(r,{loop:!0},egret.Ease.sineOut);g.to({y:l+10,scaleX:1.05,scaleY:1.05,rotation:6,alpha:1},1200).to({y:l,scaleX:.95,scaleY:.95,rotation:-5,alpha:.75},1200),r=null,g=null;var p=new rankBtn;this.addChild(p),p.touchEnabled=!0,p.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){var t=new Ranking(e.width,e.height);e.addChild(t),t=null},this),p.x=44,p.y=97,p.name="rank",p=null,this.voice=new voiceBtn,this.addChild(this.voice),this.voice.touchEnabled=!0,this.voice.x=this.width-120,this.bgMusic=RES.getRes("bgm_mp3"),this.voice.addEventListener(egret.TouchEvent.TOUCH_TAP,this.toggleSound,this),egret.localStorage.getItem("enableSound")||egret.localStorage.setItem("enableSound","0"),"1"==egret.localStorage.getItem("enableSound")?this.playBgMusic():this.stopBgMusic();var c=new egret.DisplayObjectContainer;c.name="explainAndStart",c.width=this.width,c.height=85,c.y=this.height-.15*this.height;var y=(new createBitmapByName).get("rules_btn_png");y.x=80,y.touchEnabled=!0,y.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickExplainRules,this),c.addChild(y),y=null;var u=(new createBitmapByName).get("startgame_png");u.x=c.width-u.width-80,u.touchEnabled=!0,u.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickStart,this),c.addChild(u),u=null,this.addChild(c);var w=(new createBitmapByName).get("logo3_png");w.x=this.width/2-w.width/2,w.y=this.height-70,w.name="logo",this.addChild(w),w=null},t.prototype.findCenter=function(e){e.x=this.width/2-e.width/2,e.y=this.height/2-e.height/2},t.prototype.playBgMusic=function(){var e=(new createBitmapByName).get("voice_open_png");this.voice.addChild(e),e=null,this.soundPosition?this.soundChannel=this.bgMusic.play(this.soundPosition,0):this.soundChannel=this.bgMusic.play(.8)},t.prototype.stopBgMusic=function(){this.soundChannel&&(this.voice.removeChildAt(1),this.soundPosition=this.soundChannel.position,this.soundChannel.stop(),this.soundChannel=null)},t.prototype.toggleSound=function(){this.soundChannel?(this.stopBgMusic(),egret.localStorage.setItem("enableSound","0")):(this.playBgMusic(),egret.localStorage.setItem("enableSound","1"))},t.prototype.clickExplainRules=function(){for(var e=["pig","gametitle","rank","batman","explainAndStart","logo"],t=0;t<this.$children.length;t++)-1!=e.indexOf(this.$children[t].name)&&(this.hideChildrens.push(this.$children[t]),this.removeChild(this.$children[t]),t--);e=null;var i=new egret.DisplayObjectContainer;i.width=this.width,i.height=933,i.y=160;var a=(new createBitmapByName).get("gameRules_png");a.x=i.width/2-a.width/2,i.addChild(a),a=null;var n=new egret.Sprite;n.width=195,n.height=70,n.x=this.width/2-n.width/2,n.y=840,n.graphics.beginFill(4682231),n.graphics.drawRect(0,0,195,55),n.graphics.beginFill(1918119),n.graphics.drawRect(0,55,195,15);var h=new egret.TextField;h.text="已知晓",h.textColor=16777215,h.fontFamily="KaiTi",h.width=195,h.textAlign="center",h.y=10,n.addChild(h),h=null,n.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeExplainRules,this),i.addChild(n),n=null,this.addChild(i),i=null},t.prototype.closeExplainRules=function(){var e=this;this.removeChildAt(2),this.hideChildrens.forEach(function(t,i){e.addChild(t)})},t.prototype.clickStart=function(){this.soundChannel&&this.soundChannel.stop();var e=new PlayGame(this.width,this.height);this.parent.addChild(e),this.parent.removeChild(this),e=null},t}(egret.DisplayObjectContainer);__reflect(BeginPage.prototype,"BeginPage");var rankBtn=function(e){function t(){var t=e.call(this)||this;t.width=146,t.height=54;var i=(new createBitmapByName).get("yellow_png"),a=new egret.Rectangle(24,10,1,5);i.scale9Grid=a,i.width=t.width,i.height=t.height,t.addChild(i),i=a=null;var n=new egret.TextField;return n.textColor=10308864,n.width=t.width,n.height=t.height,n.textAlign="center",n.text="排行榜",n.size=24,n.verticalAlign=egret.VerticalAlign.MIDDLE,t.addChild(n),n=null,t}return __extends(t,e),t}(egret.DisplayObjectContainer);__reflect(rankBtn.prototype,"rankBtn");var voiceBtn=function(e){function t(){var t=e.call(this)||this;t.width=56,t.height=59,t.y=95;var i=(new createBitmapByName).get("voice_png");return t.addChild(i),i=null,t}return __extends(t,e),t}(egret.DisplayObjectContainer);__reflect(voiceBtn.prototype,"voiceBtn");var GameOver=function(e){function t(t,i,a){var n=e.call(this)||this;return n.openShareFlag=!0,n.width=t,n.height=i,n.score=a,n.createGameScene(a),platform.beyondHowMany(a).then(function(e){var t=JSON.parse(e).data.sum,i=JSON.parse(e).data.over;n.beyondText.text="超过了"+(i/t*100).toFixed(1)+"%的玩家",n.beyond=(i/t*100).toFixed(1),n.ShareBtn.touchEnabled=!0}),n}return __extends(t,e),t.prototype.createGameScene=function(e){var t=this,i=(new createBitmapByName).get("gameOverBg_png");i.width=this.width,i.height=this.height,this.addChild(i),i=null;var a=(new createBitmapByName).get("bigcup_png");a.x=this.width/2-a.width/2+16,a.y=80,this.addChild(a),a=null;var n=new egret.TextField;n.text=""+e,n.textColor=10127607,n.size=50,n.fontFamily="Tahoma",n.bold=!0,n.textAlign="center",n.y=390,n.x=this.width/2-n.width/2,this.addChild(n),n=null;var h=new egret.TextField;h.text="最终得分",h.textColor=12694002,h.textAlign="center",h.size=28,this.findCenter(h),h.y=460,this.addChild(h),h=null;var d=new egret.Sprite;d.width=195,d.height=70,d.x=this.width/2-d.width/2,d.y=this.height-200;var o=(new createBitmapByName).get("purple_png");o.scale9Grid=new egret.Rectangle(14,16,2,1),o.width=195,o.height=70,d.addChild(o),o=null,d.touchEnabled=!0;var r=new egret.TextField;r.text="再玩一次",r.textColor=16777215,r.width=195,r.textAlign="center",r.y=16,d.addChild(r),r=null,d.addEventListener(egret.TouchEvent.TOUCH_TAP,this.playAgain,this),this.addChild(d),d=null;var l=new egret.DisplayObjectContainer;l.height=90,l.width=360,l.y=500,l.x=this.width/2-l.width/2;var s=(new createBitmapByName).get("line_png");l.addChild(s);var g=(new createBitmapByName).get("line_png");g.y=88,l.addChild(g);var p=new egret.TextField;p.text="",p.width=360,p.textAlign="center",p.textColor=11312615,p.y=30,p.size=30,this.beyondText=p,l.addChild(this.beyondText),this.addChild(l),l=s=g=p=null;var c=new egret.DisplayObjectContainer;c.width=195,c.height=70,c.touchEnabled=!0;var y=(new createBitmapByName).get("blue_png");y.scale9Grid=new egret.Rectangle(14,16,2,1),y.width=195,y.height=70,c.addChild(y);var u=new egret.TextField;u.text="查看排行榜",u.width=195,u.y=17,u.textColor=16777215,u.textAlign="center",c.addChild(u),c.x=this.width/2-c.width/2,c.y=615,c.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){var e=new Ranking(t.width,t.height);t.addChild(e),e=null},this),this.addChild(c),c=y=u=null;var w=new egret.DisplayObjectContainer;w.width=195,w.height=70;var v=(new createBitmapByName).get("blue_png");v.scale9Grid=new egret.Rectangle(14,16,2,1),v.width=195,v.height=70,w.addChild(v);var m=new egret.TextField;m.text="生成成绩单",m.width=195,m.y=17,m.textColor=16777215,m.textAlign="center",w.addChild(m),w.x=this.width/2-w.width/2,w.y=715,w.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){if(t.openShareFlag){t.openShareFlag=!1;var e=new SharePage(t.width,t.height,t.score,t.beyond);t.addChild(e),t.openShareFlag=!0,e=null}},this),this.ShareBtn=w,this.addChild(this.ShareBtn),w=v=m=null},t.prototype.playAgain=function(){var e=new PlayGame(this.width,this.height);this.parent.addChild(e),this.parent.removeChild(this),e=null},t.prototype.findCenter=function(e){e.x=this.width/2-e.width/2,e.y=this.height/2-e.height/2},t}(egret.DisplayObjectContainer);__reflect(GameOver.prototype,"GameOver");var PlayGame=function(e){function t(t,i){var a=e.call(this)||this;return a.addSound=RES.getRes("add_mp3"),a.gameoverSound=RES.getRes("gameover_mp3"),a.clickButtonSound=RES.getRes("clickButton_mp3"),a.enableSound=!1,a.playerScore=0,a.colorArr=[16738740,16716947,16775930,6591981,16753920,16737095,9498256,10025880,65535],a.positionLowest=430,a.isGameBegin=!1,a.playerImpulse=600,a.playerImpulseMore=12,a.enableAddRun=!0,a.playerRunNum=0,a.holdHowManyPolygon=3,a.holdHowManyLogo=4,a.width=t,a.height=i,a.createGameScene(),a}return __extends(t,e),t.prototype.createUserInfo=function(){var e=this,t=new egret.TextField,i=new egret.ImageLoader;window&&window.PlayerInfo&&(window.PlayerInfo.nickname&&(t.text=window.PlayerInfo.nickname),window.PlayerInfo.headimgurl&&(egret.ImageLoader.crossOrigin="anonymous",i.load(window.PlayerInfo.headimgurl),i.once(egret.Event.COMPLETE,function(t){var i=t.currentTarget,a=i.data,n=new egret.Texture;n.bitmapData=a;var h=new egret.Bitmap(n);e.navBar.addChild(h),h.width=40,h.height=40,h.x=40,h.y=13},this))),t.width=160,t.height=24,t.x=98,t.y=24,t.size=22,this.navBar.addChild(t)},t.prototype.createGameScene=function(){var e=this,t=(new createBitmapByName).get("bg_png");this.addChild(t);var i=this.width,a=this.height;t.width=i,t.height=a,t=null;var n=new p2.World({gravity:[0,0]});n.defaultContactMaterial.stiffness=1e6,n.defaultContactMaterial.restitution=1.00044;var h=(new createBitmapByName).get("wall_png");h.width=this.height,h.height=28,h.x=28,h.rotation=90.2;var d=(new createBitmapByName).get("wall_png");d.width=this.height,d.height=28,d.x=this.width,d.rotation=89.8;var o=this.createPlane();o.position=[0,66];var r=this.createPlane();r.position=[28,0],r.angle=3*Math.PI/2;var l=this.createPlane();l.position=[this.width-28,0],l.angle=1*Math.PI/2,n.addBody(o),n.addBody(r),n.addBody(l),o=r=l=null;var s=new p2.Body({mass:1,damping:0,position:[this.width/2,this.height-200],fixedRotation:!0}),g=(new createBitmapByName).get("player_png");g.name="PLAYER",this.playerPic=g,g.width=g.width/2,g.height=g.height/2,g.anchorOffsetX=g.width/2,g.anchorOffsetY=g.height/2;var p=new p2.Circle({radius:40});s.addShape(p),s.displays=[g],n.addBody(s),s=p=null,g.touchEnabled=!0,g.addEventListener(egret.TouchEvent.TOUCH_TAP,this.gameBegin,this);var c=(new createBitmapByName).get("circle_png");this.circleRing=c,this.addChild(c),c.anchorOffsetX=c.width/2,c.anchorOffsetY=c.height/2,c.x=this.width/2+1,c.y=this.height-199,c.scaleX=.4,c.scaleY=.4,c.alpha=.4,egret.Tween.get(c,{loop:!0}).to({scaleX:1.8,scaleY:1.8},800);var y=(new createBitmapByName).get("light_png");y.width=this.width/2-5,y.x=5,y.y=this.height-200,y.alpha=0,y.name="leftShadow";var u=(new createBitmapByName).get("light_png");u.width=this.width/2-5,u.x=this.width/2,u.y=this.height-200,u.alpha=0,u.name="rightShadow";var w=new p2.Body({type:p2.Body.STATIC,position:[y.width/2,y.y+y.height/2],collisionResponse:!1}),v=new p2.Box({width:y.width,height:y.height-9});w.addShape(v),n.addBody(w);var m=new p2.Body({type:p2.Body.STATIC,position:[this.width/2+u.width/2,y.y+y.height/2],collisionResponse:!1}),f=new p2.Box({width:u.width,height:u.height-9});m.addShape(f),n.addBody(m);var x=(new createBitmapByName).get("button_png");x.x=60,x.y=this.height-140,x.touchEnabled=!0,x.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickLeftBtn,this),document.addEventListener("keydown",function(t){70==t.keyCode&&e.clickLeftBtn(),74==t.keyCode&&e.clickRightBtn()});var C=(new createBitmapByName).get("button_png");C.x=this.width-C.width-60,C.y=this.height-140,C.touchEnabled=!0,C.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickRightBtn,this),n.on("beginContact",this.beginContactEvent,this),this.world=n,this.addChild(g),g=null,this.addChild(x),this.addChild(C),this.addChild(y),this.addChild(u),this.addChild(h),h=null,this.addChild(d),d=null;for(var B=0;B<this.holdHowManyPolygon;B++)this.addPolygon();for(var B=0;B<this.holdHowManyLogo;B++)this.addHigherScoreLogo(this.getNewPosition());var b=new egret.TextField;b.text="得分 "+this.playerScore,b.x=262,b.y=22,b.name="getScore",b.size=25,this.playerScoreLabel=b;var _=new egret.Sprite;this.navBar=_,_.width=this.width,_.height=66,_.graphics.beginFill(2894190),_.graphics.drawRect(0,0,this.width,63),_.graphics.beginFill(5391766),_.graphics.drawRect(0,62,this.width,3),this.createUserInfo(),this.voice=new voiceBtn,this.voice.touchEnabled=!0,this.voice.x=this.width-this.voice.width-16,this.voice.y=7,this.voice.scaleX=.9,this.voice.scaleY=.86,_.addChild(this.voice),this.bgMusic=RES.getRes("bgm_mp3"),this.voice.addEventListener(egret.TouchEvent.TOUCH_TAP,this.toggleSound,this),_.addChild(b),b=null,egret.localStorage.getItem("enableSound")||egret.localStorage.setItem("enableSound","0"),"1"==egret.localStorage.getItem("enableSound")?this.playBgMusic():this.stopBgMusic(),egret.localStorage.getItem("isAlreadyKnow")||egret.localStorage.setItem("isAlreadyKnow","0");var T=new egret.TextField;T.text="说明",T.x=this.width-149,T.y=22,T.textColor=5735928,T.size=27,T.touchEnabled=!0,T.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.addChild(e.explains)},this),_.addChild(T),this.addChild(_);var S=new egret.Sprite;S.width=this.width,S.height=this.height-74,S.y=64,S.touchEnabled=!0;var A=new egret.Sprite;A.width=this.width,A.height=this.height-74,A.graphics.beginFill(0,1),A.graphics.drawRect(0,0,this.width,this.height-74),A.graphics.endFill(),A.alpha=.5,S.addChild(A),A=null;var E=(new createBitmapByName).get("rect_png");E.scale9Grid=new egret.Rectangle(30,30,9,3),E.width=450,E.height=600,E.x=this.width/2-E.width/2,E.y=160,S.addChild(E),E=null;var R=new egret.DisplayObjectContainer;S.addChild(R),R.width=450,R.height=600,R.x=this.width/2-R.width/2,R.y=160;var P=new egret.TextField;R.addChild(P),P.text="游戏说明",P.size=30,P.textAlign="center",P.y=16,P.width=450,P.height=34,P.textColor=6525692,P=null;var M=new egret.TextField;R.addChild(M),M.text="游戏背景",M.size=27,M.x=22,M.y=58,M.width=410,M.textColor=6525692,M=null;var O=new egret.TextField;R.addChild(O),O.text="一次星空疫情大爆发，朱望仔与大反派展开激战，你的任务就是帮助朱望仔！",O.size=24,O.x=22,O.y=102,O.width=410,O.textColor=12632256,O.lineSpacing=10,O=null;var L=(new createBitmapByName).get("line_png");R.addChild(L),L.x=20,L.y=196,L.width=410,L.height=2,L=null;var N=new egret.TextField;R.addChild(N),N.text="玩法说明",N.size=27,N.x=22,N.y=236,N.width=410,N.textColor=6525692,N=null;var F=new egret.TextField;R.addChild(F),F.text="1.  通过点击朱望仔或者左右按钮启动游\n     戏，每次下落时通过点击左右按钮，\n     在蓝光区域就能帮助朱望仔回弹",F.size=22,F.x=22,F.y=280,F.width=410,F.textColor=12570874,F.lineSpacing=6,F=null;var I=new egret.TextField;R.addChild(I),I.text="2.  只有保护好朱望仔才能获得更多分数，\n     如未能让朱望仔回弹，导致其下落超\n     出，游戏结束",I.size=22,I.x=22,I.y=380,I.width=410,I.textColor=12570874,I.lineSpacing=6,I=null;var G=new egret.TextField;R.addChild(G),G.text="3.  消灭大反派+10分，碰撞logo+20分，\n     口罩+30分",G.size=22,G.x=22,G.y=480,G.width=410,G.textColor=12570874,G.lineSpacing=6,G=null;var k=new egret.TextField;R.addChild(k),R=null,k.text="4.  更多玩法请游戏体验哦~",k.size=22,k.x=22,k.y=550,k.width=410,k.textColor=12570874,k.lineSpacing=6,k=null;var H=new egret.DisplayObjectContainer;H.width=195,H.height=70,H.x=this.width/2-H.width/2,H.y=800,H.touchEnabled=!0,H.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(e.explains),egret.localStorage.setItem("isAlreadyKnow","1")},this);var U=(new createBitmapByName).get("blue_png");U.scale9Grid=new egret.Rectangle(14,17,2,1),U.width=H.width,U.height=H.height,H.addChild(U),U=null;var D=new egret.TextField;D.text="已知晓",D.textColor=16777215,D.fontFamily="FangSong",D.width=195,D.textAlign="center",D.y=18,H.addChild(D),D=null,S.addChild(H),H=null,this.explains=S,S=null,"0"==egret.localStorage.getItem("isAlreadyKnow")&&this.addChild(this.explains),this.addEventListener(egret.Event.ENTER_FRAME,this.onUpdate,this)},t.prototype.getAllPositions=function(){var e=[];return this.world.bodies.forEach(function(t,i){t.displays&&("POLYGON"==t.displays[0].name||"BATMAN"==t.displays[0].name||"MASK"==t.displays[0].name||"LOGO"==t.displays[0].name||"PLAYER"==t.displays[0].name)&&e.push(t.position)}),e},t.prototype.getNewPosition=function(){for(var e=this.getAllPositions(),t=Math.ceil(Math.random()*(this.width-200)+100),i=Math.ceil(Math.random()*this.positionLowest+100);!e.every(function(e,a,n){return Math.sqrt(Math.pow(e[0]-t,2)+Math.pow(e[1]-i,2))>75});)t=Math.ceil(Math.random()*(this.width-200)+100),i=Math.ceil(Math.random()*this.positionLowest+100);var a=[t,i];return a},t.prototype.addCircle=function(e,t){var i=Math.floor(101*Math.random()),a=this.colorArr[i%this.colorArr.length],n=new egret.Sprite;n.name="POLYGON",n.alpha=0,egret.Tween.get(n).to({alpha:1},100),n.graphics.lineStyle(4,a),n.graphics.endFill(),n.graphics.drawCircle(0,0,26);var h=new egret.TextField;h.text=""+t,n.label=t,h.size=26,h.textColor=a,h.x=0-h.width/2,h.y=0-h.height/2+2,n.addChild(h),this.addChild(n);var d=new p2.Circle({radius:26}),o=new p2.Body({type:p2.Body.STATIC,position:e});o.addShape(d),o.displays=[n],this.world.addBody(o),a=i=n=h=d=o=null},t.prototype.addTriangle=function(e,t){var i=Math.floor(101*Math.random()),a=this.colorArr[i%this.colorArr.length],n=new egret.Sprite;n.name="POLYGON",n.alpha=0,egret.Tween.get(n).to({alpha:1},100),n.graphics.lineStyle(4,a),n.graphics.endFill(),n.graphics.moveTo(-18,-38),n.graphics.lineTo(38,18),n.graphics.lineTo(-18,18),n.graphics.lineTo(-18,-38);var h=new egret.TextField;h.text=""+t,n.label=t,h.size=26,h.textColor=a,h.x=e[0]-h.width/2,h.y=e[1]-h.height/2+2,this.addChild(n),this.addChild(h);var d=[[-18,-38],[38,18],[-18,18]],o=new p2.Convex({vertices:d}),r=new p2.Body({type:p2.Body.STATIC,position:e,angle:Math.floor(361*Math.random())});r.addShape(o),r.displays=[n,h],this.world.addBody(r),a=i=n=h=o=r=null},t.prototype.addSquare=function(e,t){var i=Math.floor(101*Math.random()),a=this.colorArr[i%this.colorArr.length],n=new egret.Sprite;n.name="POLYGON",n.alpha=0,egret.Tween.get(n).to({alpha:1},100),n.graphics.lineStyle(4,a),n.graphics.endFill(),n.graphics.drawRect(-23,-23,46,46);var h=new egret.TextField;h.text=""+t,n.label=t,h.size=26,h.textColor=a,h.x=0-h.width/2,h.y=0-h.height/2+2,n.addChild(h),this.addChild(n);var d=new p2.Box({width:46,height:46}),o=new p2.Body({type:p2.Body.STATIC,position:e});o.addShape(d),o.displays=[n],this.world.addBody(o),a=i=n=h=d=o=null},t.prototype.addHigherScoreLogo=function(e){var t=Math.floor(100*Math.random()+1),i=new p2.Body({type:p2.Body.STATIC,position:e,collisionResponse:!1}),a=new p2.Circle;if(i.addShape(a),50>=t){var n=(new createBitmapByName).get("batman_png");n.scaleX=.5,n.scaleY=.5,n.anchorOffsetX=n.width/2,n.anchorOffsetY=n.height/2,n.name="BATMAN",a.radius=30,n.alpha=0,egret.Tween.get(n).to({alpha:1},200),i.displays=[n],this.addChild(n),egret.Tween.get(n,{loop:!0}).to({scaleX:.45,scaleY:.45},2e3).to({scaleX:.5,scaleY:.5},2e3),egret.Tween.get(a,{loop:!0}).to({radius:25},2e3).to({radius:30},2e3)}else if(80>=t){var h=(new createBitmapByName).get("logo_png");h.anchorOffsetX=h.width/2,h.anchorOffsetY=h.height/2,h.name="LOGO",h.rotation=-10,h.alpha=0,egret.Tween.get(h).to({alpha:1},200),a.radius=h.width/2,i.displays=[h],this.addChild(h),egret.Tween.get(h,{loop:!0}).to({rotation:10},1800).to({rotation:-10},1800)}else{var d=(new createBitmapByName).get("mask_png");d.scaleX=.5,d.scaleY=.5,d.anchorOffsetX=d.width/2,d.anchorOffsetY=d.height/2,d.name="MASK",d.alpha=0,egret.Tween.get(d).to({alpha:1},200),a.radius=30,i.displays=[d],this.addChild(d),egret.Tween.get(d,{loop:!0}).to({scaleX:.44,scaleY:.44},1500).to({scaleX:.5,scaleY:.5},1500),egret.Tween.get(a,{loop:!0}).to({radius:25},1500).to({radius:30},1500)}this.world.addBody(i)},t.prototype.clickLeftBtn=function(){var e=this;this.enableSound&&this.clickButtonSound.play(0,1),this.addEventListener(egret.Event.ENTER_FRAME,this.isOverLapsWithLeftLight,this),this.$children.forEach(function(t,i){if("leftShadow"==t.name){var a=egret.Tween.get(t);return a.to({alpha:1},100).to({alpha:0},200).call(function(){e.removeEventListener(egret.Event.ENTER_FRAME,e.isOverLapsWithLeftLight,e)}),a=null}})},t.prototype.clickRightBtn=function(){var e=this;this.enableSound&&this.clickButtonSound.play(0,1),this.addEventListener(egret.Event.ENTER_FRAME,this.isOverLapsWithRightLight,this),this.$children.forEach(function(t,i){if("rightShadow"==t.name){var a=egret.Tween.get(t);return a.to({alpha:1},100).to({alpha:0},200).call(function(){e.removeEventListener(egret.Event.ENTER_FRAME,e.isOverLapsWithRightLight,e)}),a=null}})},t.prototype.gameBegin=function(){this.world.gravity=[0,.1],this.playerRun(),this.removeChild(this.circleRing),this.circleRing=null,this.isGameBegin=!0,this.playerPic.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.gameBegin,this),this.gameBegin=null,this.playerPic=null},t.prototype.playerRun=function(){this.enableAddRun=!1,this.addEventListener(egret.Event.ENTER_FRAME,this.listenPlayerPosition,this),this.world.bodies[3].velocity=[0,0];var e=3*this.playerImpulse/5,t=Math.floor(Math.random()*(this.playerImpulse-e))+e,i=Math.pow(Math.pow(this.playerImpulse,2)-Math.pow(t,2),.5);Math.floor(101*Math.random())%2&&(i=-i),this.world.bodies[3].applyImpulse([i,-t],[0,0]),this.playerImpulse=this.playerImpulse+this.playerImpulseMore,this.removeEventListener(egret.Event.ENTER_FRAME,this.isOverLapsWithLeftLight,this),this.playerRunNum++,t=i=e=null},t.prototype.listenPlayerPosition=function(){this.world.bodies[3].position[1]<this.height-260&&(this.enableAddRun=!0,this.removeEventListener(egret.Event.ENTER_FRAME,this.listenPlayerPosition,this))},t.prototype.isOverLapsWithLeftLight=function(){this.isGameBegin||this.gameBegin(),this.world.bodies[3].overlaps(this.world.bodies[4])&&this.enableAddRun&&this.playerRun()},t.prototype.isOverLapsWithRightLight=function(){this.isGameBegin||this.gameBegin(),this.world.bodies[3].overlaps(this.world.bodies[5])&&this.enableAddRun&&this.playerRun()},t.prototype.addPolygon=function(){var e,t=Math.floor(3*Math.random());switch(this.playerRunNum<=20?e=Math.floor(4*Math.random()+2):this.playerRunNum<=40?e=Math.floor(5*Math.random()+3):this.playerRunNum<=60?e=Math.floor(6*Math.random()+4):this.playerRunNum>60&&(e=Math.floor(7*Math.random()+5)),t){case 0:this.addCircle(this.getNewPosition(),e);break;case 1:this.addSquare(this.getNewPosition(),e);break;case 2:this.addTriangle(this.getNewPosition(),e)}t=null},t.prototype.beginContactEvent=function(e){if(e.bodyA.displays&&e.bodyB.displays)if("POLYGON"==e.bodyA.displays[0].name){if(1==e.bodyA.displays.length)e.bodyA.displays[0].$children[0].text=e.bodyA.displays[0].$children[0].text-1,9==e.bodyA.displays[0].$children[0].text&&(e.bodyA.displays[0].$children[0].x=e.bodyA.displays[0].$children[0].x+e.bodyA.displays[0].$children[0].width/2),this.playerRunNum>=34&&this.playerScore>=1500?this.addPoints(e.bodyA,2):this.addPoints(e.bodyA,1),0==parseInt(e.bodyA.displays[0].$children[0].text)&&(this.removeChild(e.bodyA.displays[0]),this.world.removeBody(e.bodyA),this.addPolygon());else if(e.bodyA.displays[1].text=e.bodyA.displays[1].text-1,9==e.bodyA.displays[1].text&&(e.bodyA.displays[1].x=e.bodyA.displays[1].x+e.bodyA.displays[1].width/2),this.playerRunNum>=34&&this.playerScore>=1500?this.addPoints(e.bodyA,2):this.addPoints(e.bodyA,1),0==parseInt(e.bodyA.displays[1].text)){for(var t=0;t<e.bodyA.displays.length;t++)this.removeChild(e.bodyA.displays[t]);this.world.removeBody(e.bodyA),this.addPolygon()}}else if("POLYGON"==e.bodyB.displays[0].name){if(1==e.bodyB.displays.length)e.bodyB.displays[0].$children[0].text=e.bodyB.displays[0].$children[0].text-1,9==e.bodyB.displays[0].$children[0].text&&(e.bodyB.displays[0].$children[0].x=e.bodyB.displays[0].$children[0].x+e.bodyB.displays[0].$children[0].width/2),this.playerRunNum>=34&&this.playerScore>=1500?this.addPoints(e.bodyB,2):this.addPoints(e.bodyB,1),0==parseInt(e.bodyB.displays[0].$children[0].text)&&(this.removeChild(e.bodyB.displays[0]),this.world.removeBody(e.bodyB),this.addPolygon());else if(e.bodyB.displays[1].text=e.bodyB.displays[1].text-1,9==e.bodyB.displays[1].text&&(e.bodyB.displays[1].x=e.bodyB.displays[1].x+e.bodyB.displays[1].width/2),this.playerRunNum>=34&&this.playerScore>=1500?this.addPoints(e.bodyB,2):this.addPoints(e.bodyB,1),0==parseInt(e.bodyB.displays[1].text)){for(var t=0;t<e.bodyB.displays.length;t++)this.removeChild(e.bodyB.displays[t]);this.world.removeBody(e.bodyB),this.addPolygon()}}else"BATMAN"==e.bodyA.displays[0].name||"BATMAN"==e.bodyB.displays[0].name?(this.addPoints("BATMAN"==e.bodyA.displays[0].name?e.bodyA:e.bodyB,10),this.world.removeBody("BATMAN"==e.bodyA.displays[0].name?e.bodyA:e.bodyB),this.removeChild(("BATMAN"==e.bodyA.displays[0].name?e.bodyA:e.bodyB).displays[0]),this.addHigherScoreLogo(this.getNewPosition())):"LOGO"==e.bodyA.displays[0].name||"LOGO"==e.bodyB.displays[0].name?(this.addPoints("LOGO"==e.bodyA.displays[0].name?e.bodyA:e.bodyB,20),this.world.removeBody("LOGO"==e.bodyA.displays[0].name?e.bodyA:e.bodyB),this.removeChild(("LOGO"==e.bodyA.displays[0].name?e.bodyA:e.bodyB).displays[0]),this.addHigherScoreLogo(this.getNewPosition())):("MASK"==e.bodyA.displays[0].name||"MASK"==e.bodyB.displays[0].name)&&(this.addPoints("MASK"==e.bodyA.displays[0].name?e.bodyA:e.bodyB,30),this.world.removeBody("MASK"==e.bodyA.displays[0].name?e.bodyA:e.bodyB),this.removeChild(("MASK"==e.bodyA.displays[0].name?e.bodyA:e.bodyB).displays[0]),this.addHigherScoreLogo(this.getNewPosition()))
},t.prototype.addPoints=function(e,t){var i=this;this.enableSound&&this.addSound.play(0,1);var a=new egret.TextField;this.addChild(a),a.text="+"+t,a.size=30,a.textAlign=egret.HorizontalAlign.CENTER,a.verticalAlign=egret.VerticalAlign.MIDDLE,a.x=e.position[0]-30,a.y=e.position[1]-40,a.textColor=16766720,a.alpha=1,this.playerScore+=t,egret.Tween.get(a).to({y:e.position[1]-70},200).wait(300).to({alpha:0},1500).call(function(){i.removeChild(a),a=null})},t.prototype.onUpdate=function(){if(this.playerScoreLabel.text="得分 "+this.playerScore,this.world.bodies[3].position[1]>this.height+60){window.PlayerInfo&&window.PlayerInfo.openid&&window.platform.postUserScore(this.playerScore);var e=new GameOver(this.width,this.height,this.playerScore);return this.parent.addChild(e),this.removeEventListener(egret.Event.ENTER_FRAME,this.onUpdate,this),this.parent.removeChild(this),e=null,this.enableSound&&this.gameoverSound.play(0,1),this.stopBgMusic(),console.log("游戏结束")}this.playerRunNum>=66?(this.holdHowManyLogo=6,this.holdHowManyPolygon=5,this.positionLowest=380,this.dejustNum()):this.playerRunNum>=45?(this.holdHowManyLogo=6,this.holdHowManyPolygon=5,this.positionLowest=405,this.dejustNum()):this.playerRunNum>=18&&(this.holdHowManyLogo=5,this.holdHowManyPolygon=4,this.dejustNum()),this.playerRunNum>=68?this.playerImpulseMore=2:this.playerRunNum>=25&&(this.playerImpulseMore=7),this.world.step(1/30),this.world.bodies.forEach(function(e){e.displays&&(e.displays[0].x=e.position[0],e.displays[0].y=e.position[1],e.displays[0].rotation=180*e.angle/Math.PI)})},t.prototype.dejustNum=function(){var e=0,t=0;if(this.world.bodies.forEach(function(i,a){i.displays&&("POLYGON"==i.displays[0].name?e+=1:("BATMAN"==i.displays[0].name||"MASK"==i.displays[0].name||"LOGO"==i.displays[0].name)&&(t+=1))}),e<this.holdHowManyPolygon)for(var i=1;i<=this.holdHowManyPolygon-e;i++)this.addPolygon();if(t<this.holdHowManyLogo)for(var i=1;i<=this.holdHowManyLogo-t;i++)this.addHigherScoreLogo(this.getNewPosition())},t.prototype.createPlane=function(){var e=new p2.Plane,t=new p2.Body({type:p2.Body.STATIC,damping:1});return t.addShape(e),t},t.prototype.playBgMusic=function(){var e=(new createBitmapByName).get("voice_open_png");this.voice.addChild(e),e=null,this.soundPosition?this.soundChannel=this.bgMusic.play(this.soundPosition,0):this.soundChannel=this.bgMusic.play(.8),this.enableSound=!0},t.prototype.stopBgMusic=function(){this.soundChannel&&(this.voice.removeChildAt(1),this.soundPosition=this.soundChannel.position,this.soundChannel.stop(),this.soundChannel=null,this.enableSound=!1)},t.prototype.toggleSound=function(){this.soundChannel?(this.stopBgMusic(),egret.localStorage.setItem("enableSound","0")):(this.playBgMusic(),egret.localStorage.setItem("enableSound","1"))},t}(egret.DisplayObjectContainer);__reflect(PlayGame.prototype,"PlayGame");var Ranking=function(e){function t(t,i){var a=e.call(this)||this;return a.width=t,a.height=i,a.touchEnabled=!0,a.createGameScene(),a}return __extends(t,e),t.prototype.createGameScene=function(){var e=this,t=new egret.Sprite;t.width=this.width,t.height=this.height,t.graphics.beginFill(0,1),t.graphics.drawRect(0,0,this.width,this.height),t.graphics.endFill(),t.alpha=.5,this.addChild(t),t=null;var i=new egret.DisplayObjectContainer;i.width=540,i.height=860,i.x=this.width/2-i.width/2,i.y=130;var a=(new createBitmapByName).get("rectwh_png");a.scale9Grid=new egret.Rectangle(10,12,1,1),a.width=i.width,a.height=i.height,i.addChild(a),a=null;var n=new egret.DisplayObjectContainer;n.height=100,n.width=i.width;var h=(new createBitmapByName).get("cup_png");h.x=i.width/2-h.width/2-110,h.y=n.height/2-h.height/2;var d=new egret.TextField;d.text="排行榜TOP100",d.textColor=4803417,d.x=i.width/2-80,d.size=32,d.y=40,n.addChild(d),n.addChild(h),i.addChild(n),n=h=d=null;var o=new egret.Sprite;o.graphics.beginFill(15856115,1),o.graphics.drawRect(0,0,i.width,78),o.graphics.endFill(),o.y=100;var r=new egret.TextField;r.text="排行",r.x=60,this.theadText(r);var l=new egret.TextField;l.text="头像",l.x=170,this.theadText(l);var s=new egret.TextField;s.text="昵称",s.x=325,this.theadText(s);var g=new egret.TextField;g.text="成绩",g.x=465,this.theadText(g),o.addChild(g),o.addChild(s),o.addChild(l),o.addChild(r),i.addChild(o),o=r=l=s=g=null;var p=(new createBitmapByName).get("close_png");p.x=i.x+i.width-p.width/2,p.y=111,p.touchEnabled=!0,p.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.parent.removeChild(e)},this);var c=new egret.ScrollView;this.scrollView=c,c=null,this.scrollView.y=176,this.body=i,this.addChild(this.body),i=null,this.addChild(p),p=null;var y=new egret.DisplayObjectContainer;y.width=this.body.width,y.height=1e4,this.topRank=y,this.scrollView.bounces=!0,this.scrollView.setContent(this.topRank),y=null,this.scrollView.width=this.body.width,this.scrollView.height=this.body.height-184,this.body.addChild(this.scrollView),this.scrollView=null,platform.getRankResult().then(function(t){for(var i,a=JSON.parse(t).data,n=function(t){var n=new egret.Sprite;n.graphics.beginFill(16777215,1),n.graphics.drawRect(0,0,e.body.width,100),n.graphics.endFill(),n.width=e.body.width,n.height=100,n.y=100*t;var h=new egret.Sprite;if(h.graphics.beginFill(15921906,1),h.graphics.drawRect(0,0,e.body.width,2),h.graphics.endFill(),h.y=98,n.addChild(h),h=null,i=new egret.ImageLoader,egret.ImageLoader.crossOrigin="anonymous",i.load(a[t].headimgurl),i.once(egret.Event.COMPLETE,function(i){var a=i.currentTarget,n=a.data,h=new egret.Texture;h.bitmapData=n;var d=new egret.Bitmap(h);d.width=75,d.height=75,e.findAnchorCenter(d),d.y=13,d.x=170,e.$children[1].$children[3].$children[0].$children[t].addChild(d)},e),i=null,t>2){var d=new egret.TextField;d.text=""+(t+1),e.findAnchorCenter(d),d.x=60,d.y=35,d.size=32,d.textColor=0,n.addChild(d),d=null}else{var o=void 0;switch(t){case 0:o=(new createBitmapByName).get("1st_png");break;case 1:o=(new createBitmapByName).get("2nd_png");break;case 2:o=(new createBitmapByName).get("3rd_png")}e.findAnchorCenter(o),o.x=60,o.y=26,n.addChild(o),o=null}var r=new egret.TextField;r.text=a[t].nickname,r.width=160,r.height=32,e.findAnchorCenter(r),r.x=325,r.y=36,r.textColor=0,r.textAlign="center",n.addChild(r),r=null;var l=new egret.TextField;l.text=a[t].score+"分",l.textColor=13522968,l.size=30,e.findAnchorCenter(l),l.y=36,l.x=465,n.addChild(l),l=null,e.topRank.addChild(n),n=null},h=0;h<a.length;h++)n(h)})},t.prototype.findAnchorCenter=function(e){e.anchorOffsetX=e.width/2},t.prototype.theadText=function(e){e.textColor=7961989,e.size=28,this.findAnchorCenter(e),e.y=25},t}(egret.DisplayObjectContainer);__reflect(Ranking.prototype,"Ranking");var SharePage=function(e){function t(t,i,a,n){var h=e.call(this)||this;return h.width=t,h.height=i,h.touchEnabled=!0,h.createGameScene(a,n),h}return __extends(t,e),t.prototype.createGameScene=function(e,t){var i=this,a=(new createBitmapByName).get("gameOverBg_png");a.width=this.width,a.height=this.height,this.addChild(a),a=null;var n=new egret.DisplayObjectContainer;n.width=160,n.height=70,n.x=this.width-n.width-34,n.y=50,n.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){alertImgHide(),i.parent.removeChild(i)},this);var h=(new createBitmapByName).get("rectwh_png");h.scale9Grid=new egret.Rectangle(10,12,1,1),h.width=n.width,h.height=n.height;var d=(new createBitmapByName).get("blue2_png");d.scale9Grid=new egret.Rectangle(14,14,2,2),d.width=n.width-8,d.height=n.height-8,d.x=4,d.y=4;var o=new egret.TextField;o.text="返回",o.width=n.width,o.textAlign="center",o.size=36,o.y=20,o.textColor=16777215,n.addChild(h),n.addChild(d),n.addChild(o),this.addChild(n),n=h=d=o=null;var r=(new createBitmapByName).get("logo2_png");r.y=100,r.x=30,this.addChild(r),r=null;var l=(new createBitmapByName).get("starWars_png");l.y=170,l.x=-40,this.addChild(l),l=null;var s=new egret.DisplayObjectContainer;s.width=this.width-160,s.height=240,s.x=this.width/2-s.width/2,s.y=280;var g=(new createBitmapByName).get("rect_png");g.scale9Grid=new egret.Rectangle(30,30,9,3),g.width=s.width,g.height=s.height,s.addChild(g);var p=new egret.TextField;p.text="姓名：",window&&window.PlayerInfo&&window.PlayerInfo.nickname&&(p.text="姓名："+window.PlayerInfo.nickname),p.x=34,p.y=40,p.textColor=11378668,s.addChild(p);var c=new egret.TextField;c.text="成绩："+e,c.x=34,c.y=100,c.textColor=11378668,s.addChild(c);var y=new egret.TextField;y.text="超过了"+t+"%的玩家",y.x=34,y.y=160,y.textColor=11378668,s.addChild(y),this.addChild(s),s=y=g=p=c=null;var u=new egret.TextField;u.text="2020“创青春 交子杯”新网银行金融科技挑战赛",u.textColor=10916316,u.x=30,u.y=580,this.addChild(u);var w=new egret.TextField;w.text="47万奖金池，最高10万奖金等你来拿！",w.textColor=10916316,w.x=30,w.y=630,this.addChild(w);var v=new egret.TextField;v.text="是时候展示你真正的技术了！",v.textColor=10916316,v.x=30,v.y=680,this.addChild(v),u=w=v=null,alertImgShow()},t}(egret.DisplayObjectContainer);__reflect(SharePage.prototype,"SharePage");